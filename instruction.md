Refactor lại giúp tôi SmartStore\ViewModels\OrderViewModel.cs hiện tại đang viết tất cả vào đây khá là dài và khó bảo trì. Sửa lại giúp tôi cả phần chụp quản lý state 1 cách rõ ràng chứ không if else linh tinh.